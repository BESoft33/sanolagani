<!DOCTYPE html>
<html lang="en">
   <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <head th:insert="fragment/head.html :: headerfiles"></head>
    <body>
         <header class='container header__container' th:replace="fragment/header.html :: header"></header>
        <div class='full__width' th:insert="fragment/nav.html :: navbar"></div>

        <!-- Dashboard -->
        <section class="dashboard">
            <div class=" dashboard__container">
                <div class="left__dashboard board">
                    <div><a href="#">Sanolagani Dashboard</a></div>
                    <div><a href="#"><a href="#">My Information</a></a></div>
                    <div class="dropdown">
                        <button onclick="fundManagement()" class="drop-btn">Fund Management</button>
                        <div id="fundManagement" class="fundManagementContent">
                            <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Sub Fund Management</a>
                            <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Sub Fund Management</a>
                            <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Sub Fund Management</a>
                        </div>
                    </div>
                </div>
                <!-- center dashboard -->
                <div class="center__dashboard board">
                    <div class="center__heading">
                        <div><h2>Investment</h2></div>
                    </div>
                    <hr>
                    <br>
                    <!-- profile details -->
                    <div class="investment-table">
                        <table>
                            <tr>
                                <th>USERNAME</th>
                                <th>AMOUNT</th>
                                <th>TRANSFER DATE</th>
                                <th>COMPANY ID</th>
                                <th>QUANTITY</th>
                                <th>STATUS</th>
                                <th>REFUNDABLE UNTIL</th>
                                <th>ACTION</th>
                            </tr>
                             <tr th:each="investment: ${investmentlist}">
                          <td> <a th:text="${name}"></a></td>
                          <td> <a th:text="${investment.amount}"></a></td> 
                          <td> <p th:text="${#temporals.format(investment.investment_date_time, 'yyyy-MM-dd') + ' ' + #temporals.format(investment.investment_date_time, 'HH:mm:ss')}"></p></td>
                          <td><p th:text="${investment.getCompany().getId()}"></p></td>
                          <td><p th:text="${investment.quantity}"></p></td>
                          <td><p th:text="${investment.status}"></p></td>
                          <td> <p th:text="${#temporals.format(investment.refundableUntil, 'yyyy-MM-dd') + ' ' + #temporals.format(investment.refundableUntil, 'HH:mm:ss')}"></p></td>
                          <td th:if="${investment.status eq 'refundable'}">
                              <button class="btn btn-danger"
                               th:onclick="|window.location.href='/tables/refund/${investment.id}/'|">Refund</button>
                          </td>
                           <td th:unless="${investment.status eq 'refundable'}">time finish to refund or edit</td>
         
                            </tr>              
                       </table>
                    </div>
                 </div>
            </div>
        </section>

        <!-- Footer -->
         <footer>
            <footer th:insert="fragment/footer.html :: footer"></footer>
        </footer>
        <!-- Fund Management Dropdown Script -->
        <script>
            function fundManagement(){
                document.getElementById("fundManagement").classList.toggle("show");
            }
        </script>
    </body>

</html>