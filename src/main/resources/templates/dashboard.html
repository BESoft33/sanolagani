<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragment/head.html :: headerfiles">
    <title>Sanolagani</title>

</head>


        <!-- Dashboard -->
        <section class="dashboard">
            <div class=" dashboard__container">
                <div class="left__dashboard board">
                    <div>
                        <a href="#">Sanolagani Dashboard</a>
                        <a href="#">My Information</a>
                        <div class="dropdown">
                            <button onclick="fundManagement()" class="drop-btn">Fund Management</button>
                            <div id="fundManagement" class="fundManagementContent">
                                <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Collateral Management</a>
                                <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Fund Transfer History</a>
                                <a href="#"><i class="fa-sharp fa-solid fa-arrow-right"></i>&nbsp;Fund Settlement</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="center__dashboard board">
                     <canvas id="myChart2"></canvas>
                </div>
                <div class="right__dashboard">
                    <div class="turnover board">
                        <h2>Welcome,User</h2>
                        <a th:href="@{/riskinfo}">
                        <div>
                            <p>Total investment</p></a>
                            <p>0</p>
                        </div>
                        <div>
                            <p>Total company</p>
                            <p>0</p>
                        </div>
                        <div>
                            <p>Total share</p>
                            <p>0</p>
                        </div>
                       
                    </div>

    <!-- Footer -->
    <footer th:insert="fragment/footer.html :: footer"></footer>

    </body>
    <!-- Fund Management Dropdown Script -->
    <script>
        function fundManagement(){
            document.getElementById("fundManagement").classList.toggle("show");
        }
        //datapoints should be list of data fetch from database
        //and sent it using model attribute
        //labels should be the investment or transaction month
        //values should be the transacted amount

    // Extract labels and values from dataPoints
    //var labels = dataPoints.map(dp => dp.label);
    //var values = dataPoints.map(dp => dp.value);

   document.addEventListener("DOMContentLoaded", function() {
    var canvas = document.getElementById("myChart2");

if (canvas) {
    var ctx = canvas.getContext("2d");

    // Sample data
    var companies = ["Company A", "Company B", "Company C", "Company D"]; // Replace with your actual company names
    var shares = [250, 500, 300, 150]; // Replace with your actual number of shares data
    var investments = [10000, 20000, 15000, 8000]; // Replace with your additional data

    // Chart data
    var chartData = {
        labels: companies,
        datasets: [
            {
                label: "Number of Shares",
                data: investments,
                type: 'line', // Bar chart for number of shares
                backgroundColor: "#007bff",
                borderWidth: 1
            },

        ]
    };
    // Chart options
    var chartOptions = {
        responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        }
    };

    // Create combination chart
    var myChart = new Chart(ctx, {
        type: 'line',
        data: chartData,
        options: chartOptions
    });

}
});

    </script>

</html>