<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragment/head.html :: headerfiles"></head>

<body>
    <header class='container header__container'>
        <div>
            <h1><a href="/" class='logo hover_none'>Sanolagani</a> </h1>
        </div>
    </header>
    <hr>
    <section>
        <div class="container login__container">
            <div class="login__left">
                <img th:src="@{'/images/sanolagani logo.png'}" alt="image" />
            </div>
            <div class="login__right">
               <!--<span id="error-msg"></span> --> 
                <div class="heading__background">
                    <a href="user_login.html">
                        <h2>Login</h2>
                    </a>
                    <a href="user_signup.html" class='active'>
                        <h2>Sign Up</h2>
                    </a>
                </div>
                <form th:action="@{/saveadmin}" method="post" id ="signup-form">
                    <input class='input__box' type="text`" placeholder='First Name' name="fname" id="fname"  />
                    <input class='input__box' type="text" placeholder='Last Name' name="lname" id="lname"  />
                    <input class='input__box' type="email" placeholder='Email' name="email" id="email"/>
                    <span id="message" style="color:red; font-size:12px; padding-top: 0px; background-color: transparent;">&nbsp;</span>
                    <input class='btn btn-primary btn__login' type="submit" value='Sign Up' id="submitBtn" />
                    <!-- <button class="btn btn__login" type="submit">Signup</button> -->
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
		<footer th:insert="fragment/footer.html :: footer"></footer>
	</footer>

    <script>
        var submitBtn = document.getElementById("submitBtn");
        var error = document.getElementById("message");

        document.getElementById('signup-form').addEventListener('submit', e => {
            e.preventDefault();
            if(registerValidate()==true){
                document.getElementById('signup-form').submit();
            }
        });
        
        registerValidate = ()=>{
            let fname = document.getElementById('fname').value;
            let lname = document.getElementById('lname').value;
            let email = document.getElementById('email').value;

            let fnamecheck = /^[a-zA-Z ]{3,}$/;
            let lnamecheck = /^[a-zA-Z]{3,}$/;
            let emailcheck = /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;

            if(fnamecheck.test(fname)){
                document.getElementById('message').innerHTML = "";
            }else{
                document.getElementById('message').innerHTML = "** Enter valid first name";
                return false;
            }

            if(lnamecheck.test(lname)){
                document.getElementById('message').innerHTML = "";
            }else{
                document.getElementById('message').innerHTML = "** Enter valid lastname";
                return false;
            }

            if(emailcheck.test(email)){
                document.getElementById('message').innerHTML = "";
            }else{
                document.getElementById('message').innerHTML = "** Enter valid email format";
                return false;
            }
            return true;
        }
    </script>

    
</body>

</html>